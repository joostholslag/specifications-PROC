<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="description" content="openEHR Task Planning (TP) Examples">
<meta name="keywords" content="task, planning, examples, workflow">
<title>Task Planning Examples</title>
<link rel="stylesheet" href="https://specifications.openehr.org/styles/openehr.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#_task_planning_examples">Task Planning Examples</a>
<ul class="sectlevel1">
<li><a href="#_amendment_record">Amendment Record</a></li>
<li><a href="#_acknowledgements">Acknowledgements</a>
<ul class="sectlevel2">
<li><a href="#_editors">Editors</a></li>
<li><a href="#_support">Support</a></li>
<li><a href="#_trademarks">Trademarks</a></li>
</ul>
</li>
<li><a href="#_preface">1. Preface</a>
<ul class="sectlevel2">
<li><a href="#_purpose">1.1. Purpose</a></li>
<li><a href="#_related_documents">1.2. Related Documents</a></li>
<li><a href="#_status">1.3. Status</a></li>
<li><a href="#_feedback">1.4. Feedback</a></li>
</ul>
</li>
<li><a href="#_overview">2. Overview</a>
<ul class="sectlevel2">
<li><a href="#_draw_io_tool_mode">2.1. Draw.io Tool mode</a></li>
</ul>
</li>
<li><a href="#_teamwork">3. Teamwork</a>
<ul class="sectlevel2">
<li><a href="#_out_patient_eye_clinic_encounter">3.1. Out-patient Eye Clinic Encounter</a>
<ul class="sectlevel3">
<li><a href="#_plan_overview">3.1.1. Plan Overview</a></li>
<li><a href="#_detailed_description">3.1.2. Detailed Description</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_order_management">4. Order Management</a>
<ul class="sectlevel2">
<li><a href="#_order_coordination">4.1. Order Coordination</a>
<ul class="sectlevel3">
<li><a href="#_plan_overview_2">4.1.1. Plan Overview</a></li>
<li><a href="#_detailed_description_2">4.1.2. Detailed Description</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock text-center">
<div class="content">
<img src="https://specifications.openehr.org/images/openEHR_logo_RGB.svg" alt="openEHR logo">
</div>
</div>
</div>
</div>
<h1 id="_task_planning_examples" class="sect0">Task Planning Examples</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong>Issuer</strong>: <a href="https://www.openehr.org/programs/specification" target="_blank" rel="noopener">openEHR Specification Program</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Release</strong>: PROC latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Status</strong>: TRIAL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Revision</strong>: <a href="#latest_issue">[latest_issue]</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Date</strong>: <a href="#latest_issue_date">[latest_issue_date]</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Keywords</strong>: task, planning, examples, workflow</p></td>
</tr>
</tbody>
</table>
<div class="imageblock text-center">
<div class="content">
<object type="image/svg+xml" data="openehr_block_diagram.svg" width="60%"><span class="alt">openEHR components</span></object>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2">&#169; 2017 - 2019 The openEHR Foundation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><a href="https://www.openehr.org" target="_blank" rel="noopener">The openEHR Foundation</a> is an independent, non-profit foundation, facilitating the sharing of health records by consumers and clinicians via open specifications, clinical models and open platform implementations.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Licence</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="https://specifications.openehr.org/images/cc-by-nd-88x31.png" alt="image"></span> Creative Commons Attribution-NoDerivs 3.0 Unported. <a href="https://creativecommons.org/licenses/by-nd/3.0/" class="bare">https://creativecommons.org/licenses/by-nd/3.0/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Support</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issues: <a href="https://specifications.openehr.org/components/PROC/open_issues" target="_blank" rel="noopener">Problem Reports</a><br>
 Web: <a href="https://specifications.openehr.org" target="_blank" rel="noopener">specifications.openEHR.org</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_amendment_record">Amendment Record</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 54.5454%;">
<col style="width: 18.1818%;">
<col style="width: 18.1819%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Issue</th>
<th class="tableblock halign-left valign-top">Details</th>
<th class="tableblock halign-left valign-top">Raiser</th>
<th class="tableblock halign-left valign-top">Completed</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>PROC Release 1.0.0</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue"></a>0.1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial writing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 B Næss</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue_date"></a>25 Apr 2019</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_acknowledgements">Acknowledgements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_editors">Editors</h3>
<div class="ulist">
<ul>
<li>
<p>Thomas Beale, Ars Semantica (UK); openEHR Foundation Management Board</p>
</li>
<li>
<p>Bjørn Næss, DIPS, Norway</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_support">Support</h3>
<div class="paragraph">
<p>The work reported in this specification has been funded by the following organisations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>DIPS, Norway</p>
</li>
<li>
<p>Marand d.o.o., Slovenia</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_trademarks">Trademarks</h3>
<div class="ulist">
<ul>
<li>
<p>'openEHR' is a trademark of the openEHR Foundation.</p>
</li>
<li>
<p>'OMG' is a trademark of the Object Management Group.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preface"><a class="anchor" href="#_preface"></a>1. Preface</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_purpose"><a class="anchor" href="#_purpose"></a>1.1. Purpose</h3>
<div class="paragraph">
<p>This document contains elaborated examples of the openEHR Task Planning (TP) Model, with diagrams in TP-VML.</p>
</div>
<div class="paragraph">
<p>The intended audience includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Task Plan and workflow authors;</p>
</li>
<li>
<p>Tool vendors.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_documents"><a class="anchor" href="#_related_documents"></a>1.2. Related Documents</h3>
<div class="paragraph">
<p>Prerequisite documents for reading this document include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="https://specifications.openehr.org/releases/PROC/latest/task_planning.html" target="_blank" rel="noopener">openEHR Task Planning Model</a>;</p>
</li>
<li>
<p>The <a href="https://specifications.openehr.org/releases/PROC/latest/tp_vml.html" target="_blank" rel="noopener">openEHR Task Planning Visual Modelling Language (TP-VML)</a>;</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_status"><a class="anchor" href="#_status"></a>1.3. Status</h3>
<div class="paragraph">
<p>This specification is in the TRIAL state. The development version of this document can be found at <a href="https://specifications.openehr.org/releases/PROC/latest/tp_examples.html" target="_blank" rel="noopener">https://specifications.openehr.org/releases/PROC/latest/tp_examples.html</a>.</p>
</div>
<div class="paragraph">
<p>Known omissions or questions are indicated in the text with a 'to be determined' paragraph, as follows:</p>
</div>
<div class="paragraph tbd">
<p><strong>TBD</strong>: (example To Be Determined paragraph)</p>
</div>
</div>
<div class="sect2">
<h3 id="_feedback"><a class="anchor" href="#_feedback"></a>1.4. Feedback</h3>
<div class="paragraph">
<p>Feedback may be provided on the <a href="http://lists.openehr.org/mailman/listinfo/openehr-technical_lists.openehr.org" target="_blank" rel="noopener">technical mailing list</a>.</p>
</div>
<div class="paragraph">
<p>Issues may be raised on the <a href="https://specifications.openehr.org/components/PROC/open_issues" target="_blank" rel="noopener">specifications Problem Report tracker</a>.</p>
</div>
<div class="paragraph">
<p>To see changes made due to previously reported issues, see the <a href="https://specifications.openehr.org/components/PROC/history" target="_blank" rel="noopener">PROC component Change Request tracker</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview"><a class="anchor" href="#_overview"></a>2. Overview</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_draw_io_tool_mode"><a class="anchor" href="#_draw_io_tool_mode"></a>2.1. Draw.io Tool mode</h3>
<div class="paragraph">
<p>The following files can be downloaded and then imported into draw.io as libraries to provide a working palette for TP-VML diagrams.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="tp_examples/draw.io-lib/TP_VML_plans.xml">TP_VML plans</a></p>
</li>
<li>
<p><a href="tp_examples/draw.io-lib/TP_VML_groups.xml">TP_VML groups</a></p>
</li>
<li>
<p><a href="tp_examples/draw.io-lib/TP_VML_tasks.xml">TP_VML tasks</a></p>
</li>
<li>
<p><a href="tp_examples/draw.io-lib/TP_VML_events.xml">TP_VML events</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_teamwork"><a class="anchor" href="#_teamwork"></a>3. Teamwork</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The examples in this section illustrate the use of TP for team-based work plans, including hand-offs, callbacks and other kinds of coordination.</p>
</div>
<div class="sect2">
<h3 id="_out_patient_eye_clinic_encounter"><a class="anchor" href="#_out_patient_eye_clinic_encounter"></a>3.1. Out-patient Eye Clinic Encounter</h3>
<div class="paragraph">
<p>This example is based on the original description of <a href="https://github.com/bjornna/TP-examples/blob/master/16-eye_outpatient/index.adoc">DIPS Eye encounter example</a>.</p>
</div>
<div id="outpatient_eye_clinic" class="imageblock text-center text-center">
<div class="content">
<img src="tp_examples/diagrams/outpatient_eye_clinic.svg" alt="outpatient eye clinic">
</div>
<div class="title">Figure 1. Outpatient eye clinic encounter</div>
</div>
<div class="sect3">
<h4 id="_plan_overview"><a class="anchor" href="#_plan_overview"></a>3.1.1. Plan Overview</h4>
<div class="paragraph">
<p>As for all Plans defined in the Task Planning formalism, it must be remembered that the Plan definition above is what the <em>TP engine executes</em>. It is the result of the execution (including worker allocation and communication, which is not shown in the definition) that causes workers in the real world to do things. Additionally, what the TP engine knows about the real world is limited to what it is told - many actions and events can occur outside the TP computing environment that will remain unknown to the system unless it is informed (e.g. by Manual notification).</p>
</div>
<div class="paragraph">
<p>The Work Plan consists of two top-level Task Plans, one for the patient and one for the clinic administrator / reception. The latter has two sub-plans linked by hand-off Tasks.</p>
</div>
<div class="paragraph">
<p>The purpose of the patient top-level Task Plan is to allow the system to notify the patient of the visit, via a reminder on the day of the visit, or some fixed time beforehand. The driving event is the calendar appointment, which is waited on by both the patient and the clinic admin Task Plans. It is assumed that longer term reminders, opportunities for changing appointments and so on are managed by another system that see the same calendar events, and is responsible for setting the calendar events in the first place. Thus, in the model above, the patient top-level plan is not really necessary (he/she will be notified by the appointment system), and is mainly included for purposes of demonstration.</p>
</div>
</div>
<div class="sect3">
<h4 id="_detailed_description"><a class="anchor" href="#_detailed_description"></a>3.1.2. Detailed Description</h4>
<div class="paragraph">
<p>The main work of the Work Plan is in the other three Task Plans, which essentially encode the following logic:</p>
</div>
<div class="paragraph">
<p>Clinic Administrator:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>clinic has a live Task Plan waiting on appointment A for patient P, at 2019-02-15 09:30:00;</p>
</li>
<li>
<p>when this calendar timepoint is reached, the TP system 'opens' the appointment via a System Request to the clinic appointment system (details not shown);</p>
</li>
<li>
<p>WAIT: the clinic Task Plan enters a new wait state for patient P, for appointment A;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Patient:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>patient arrives at clinic (modelled as a Manual notification);</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Clinic Administrator:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>receive patient, record presence;</p>
</li>
<li>
<p>Hand-off: pass to consultation (e.g. send to waiting area);</p>
</li>
<li>
<p>WAIT: until manual notification (patient returns)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Nurse:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>receive patient &amp; check EMR</p>
</li>
<li>
<p>review eye function, decide on whether to send to doc or not:</p>
<div class="ulist">
<ul>
<li>
<p>EITHER: return to reception</p>
</li>
<li>
<p>OR: pass to doctor</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Specialist:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>receive patient and check EMR</p>
</li>
<li>
<p>perform examination</p>
</li>
<li>
<p>update EMR</p>
</li>
<li>
<p>send patient back to reception.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_order_management"><a class="anchor" href="#_order_management"></a>4. Order Management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The examples in this section illustrate the use of TP for order management, where openEHR Instructions and Actions (or other non-openEHR equivalents) are created and tracked.</p>
</div>
<div class="sect2">
<h3 id="_order_coordination"><a class="anchor" href="#_order_coordination"></a>4.1. Order Coordination</h3>
<div class="paragraph">
<p>This example is based on a standard Moscow City clinic protocol, and covers a 12 month period.</p>
</div>
<div id="order_coordination" class="imageblock text-center text-center">
<div class="content">
<img src="tp_examples/diagrams/order_coordination.svg" alt="order coordination">
</div>
<div class="title">Figure 2. GP order coordination</div>
</div>
<div class="sect3">
<h4 id="_plan_overview_2"><a class="anchor" href="#_plan_overview_2"></a>4.1.1. Plan Overview</h4>
<div class="paragraph">
<p>The Work Plan shown above defines the tasks for a 'standard health check' that includes a chest x-ray, a full blood panel and a hypertension checkup. The Plan executes over the periof a year, and consists of a health coordinator creating orders for the three items, via UI forms. The result of creating these orders will be the creation of a normal Composition and Instruction in the openEHR EHR for the patient. At some later point in time, the coordinator will action these orders, which will cause the EHR data to be used to create appropriate API calls / messages to the relevant target systems (radiology clinic, pathology lab, consultant) that will further cause appointments and attendances in the normal way by the patient. Each of these 'execute order' Tasks will block and wait for appropriate callbacks resulting from each of the orders being fulfilled and corresponding Actions being committed to the EHR (or else timeouts, if nothing happens). With the received results, the coordinator creates a health summary for the patient and commits that to the EHR.</p>
</div>
</div>
<div class="sect3">
<h4 id="_detailed_description_2"><a class="anchor" href="#_detailed_description_2"></a>4.1.2. Detailed Description</h4>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2019-12-11 18:36:46 UTC
</div>
</div>
</body>
</html>